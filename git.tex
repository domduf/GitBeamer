\documentclass[10pt]{beamer}
\usetheme{Montpellier}
\usepackage[utf8]{inputenc}
\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\graphicspath{{images/}}
\author{Dominique DUFOUR domduf.com}
\title{Git}
%\setbeamercovered{transparent} 
%\setbeamertemplate{navigation symbols}{} 
\logo{\includegraphics[width=18pt]{domduf.jpeg}} 
%\institute{} 
%\date{} 
%\subject{} 




\begin{document}

\begin{frame}
\titlepage
\end{frame}

\begin{frame}{table}
\tableofcontents
\end{frame}

\section{Présentation}

\begin{frame}{Qu'est-ce que c'est, à quoi ça sert, qui qu'a fait ça ?}

\framesubtitle{parce que ça n'a pas l'air simple...}

Lorsque le noyau de Linux devint un peu compliqué à faire évoluer (un grand nombre de développeurs étaient sur le coup, maintenir un historique des versions commençait à devenir chaud), un homme très important, \textbf{Linus Torvalds}, le créateur de Linux se retroussa les manches et créa ce formidable outil.

\begin{center}
\includegraphics[width=150pt]{kernel.png}
\end{center}

Voilà \textbf{le} lien du \textbf{livre de référence Git}, si vous êtes perdus ou curieux.

\href{https://git-scm.com/book/fr/v2/}{la version 2 du git-book}: \url{https://git-scm.com/book/fr/v2/}



\end{frame}



\begin{frame}{L'intérêt de Git.}{sinon c'est pas la peine...}

Si vous avez déjà travaillé sur un projet, tel la construction d'un site internet, \textbf{avec une autre personne}, vous vous êtes 
certainement déjà retrouvé avec ce genre de chose:

\includegraphics[height=120pt]{SiteAvecUneAUtrePersonne.png} \includegraphics[height=120pt]{bordel.jpg}

C'est à dire un répertoire rempli de dossiers du même site, ayant un nom de version différent, et au bout du compte...\textbf{bordélique}.

\end{frame}



\begin{frame}
Git va permettre de faire plusieurs choses \textbf{très intéressantes}:
\begin{itemize}
\item Permettre d'utiliser \textbf{un seul dossier}
\end{itemize}
\includegraphics[width=200pt]{SiteAvecUneAUtrePersonneGit.png}

\begin{itemize}
\item sauvegarder les anciennes versions du site, c'est à dire tout le boulot précédant, dans ce même dossier, \textbf{de façon transparente}.
\item \textbf{partager} votre version avec votre binôme, en ligne.
\item gérer les \textbf{conflits de version} sans destruction définitive du code.
\item travailler sur une partie du site, pendant que votre binôme s'occupe d'une autre, et ensuite "mélanger" votre travail, de façon \textbf{non destructive}.

\end{itemize}

\end{frame}




\section{Installer}

\begin{frame}{Installer}

\includegraphics[width=200pt]{install-git-2.png}


Pour tous les systèmes\footnote{image source: \url{https://www.studytonight.com/github/}}, lisez d'abord la page ici:
\url{https://git-scm.com/book/fr/v2} à \textbf{la section 1.5} et laissez vous guider !
\end{frame}




\subsection{Premières configurations  }


\begin{frame}{}
Il faut, pour pouvoir par la suite utiliser Git, entrer vos coordonnées.\footnote{\url{https://git-scm.com/book/fr/v2} à la section 1.6} \textit{Attention les options sont précédées de deux tirets}.

\begin{itemize}
\item  git config --global user.name "Prenom Nom"

Configure vos \textbf{Prénom et Nom}, à mettre entre guillemets.

\item  git config --global user.email votre.adresse@email.com

Configure votre \textbf{adresse email} (utile par la suite avec le dépôt en ligne Github)

\item git config --list

Vous montre les configurations déjà effectuées. Voici ma configuration personnelle
\footnote{pour les alias, voir section~\ref{alias}}

\includegraphics[width=180pt]{git-config-list.png}

\end{itemize}




\end{frame}



\section{Utiliser en local}

\subsection{initialiser un dépôt local}

\begin{frame}{Utiliser en local}
Lorsqu'on parle d'utilisation en local, cela concerne votre travail sur votre propre ordinateur.

Sans pour l'instant parler de partage de votre projet avec votre ou vos collaborateurs.

Vous disposez d'un dossier, par exemple un dossier de site web nommé \textbf{monSite}, qui se trouve dans le dossier \textbf{htdocs} de votre serveur local xampp ( ou lampp sous Linux):

\includegraphics[width=180pt]{monSite.png}
Vous allez ouvrir une console (sous Windows, un clic droit sur le dossier \textbf{monSite} va vous proposer l'option d'ouverture de la console, si git est installé)
\end{frame}

\begin{frame}
Voici un aperçu d'un terminal (ici sous Linux).
Le vôtre doit être différent, mais vous allez pouvoir taper des commandes...
\includegraphics[width=180pt]{terminal.png}

Pour commencer un\textbf{ "git init"} pour que git puisse être utilisé dans ce dossier.

Puis un \textbf{git status} nous montre l'état de notre suivi de version:
\includegraphics[width=180pt]{git-init-status.png}

\end{frame}


\begin{frame}
Vous décidez d'inclure dans votre historique le seul fichier index.html:

\textbf{git add . } (notez la présence du point, qui signifie ici "tout ce qui n'est pas suivi")

Puis un \textbf{git status} nous montre l'état de notre suivi de version:
\includegraphics[width=180pt]{git-add-status.png}

Pour l'instant, les modifications ne sont \textbf{pas encore "enregistrées"} au niveau des étapes de votre projet, pour cela...

\begin{center}
\begin{Large}
IL FAUT COMMITER
\end{Large}
\end{center}

\end{frame}

\subsection{premier commit}

\begin{frame}{Premier commit}

"Commit" peut se comprendre comme:

\begin{itemize}
\item Enregistrer une étape de mon travail à un instant "t" pour pouvoir y avoir accès dans le futur.

Par exemple pour pouvoir revenir en arrière si je continue mon travail et que j'estime que ce que j'ai fait n'est pas conforme à mes attentes.
\end{itemize}

\end{frame}

\subsection{les commandes indispensables}

\begin{frame}{les commandes indispensables}
\begin{itemize}
\item git status

Permet de \textbf{visualiser} les fichiers qui ont été modifiés, ajoutés, supprimés, depuis le dernier commit

\item git add

Permet d'\textbf{ajouter} les fichiers qui devront être \textbf{suivis} dans leur version lors du prochain commit.

\item git commit

Permet de faire \textbf{rentrer dans l'historique} tous les fichiers "marqués" par le git add
\item git log

Va afficher un historique des commits déja réalisés.
\includegraphics[width=150pt]{git-log.png}


\end{itemize}
\end{frame}


\subsection{les alias}
\label{alias}
\begin{frame}{Les alias}

Les alias sont des raccourcis de commande\footnote{\url{https://github.com/domduf/git_trucs_et_astuces/blob/master/alias_utiles.txt}}.

Ces raccourcis sont appliqués bien sûr aux commandes les plus utilisées, et vont vous faire gagner du temps.

On les définit soi-même (une foi pour toute) en ligne de commande, en tapant:

 \textbf{git config --global alias.nomDeLAlias commande} 
 
 \smallbreak
 
Par exemple, pour utiliser \textbf{git st} au lieu de \textbf{git status} , la
commande de création de l'alias sera:

\textbf{git config --global alias.st status}\\

\includegraphics[width=150pt]{git-status.png} \includegraphics[width=150pt]{git-st.png}



\end{frame}

\subsection{le fichier .gitignore}



\section{Le dépôt sur Github}

\begin{frame}
L'intérêt de Git, c'est aussi et surtout de pouvoir travailler sur un même projet à plusieurs...

Un site internet est souvent construit avec au minimum:
\begin{itemize}
\item un responsable de projet
\item un plusieurs codeur de la structure du site
\item un ou plusieurs graphiste

\end{itemize}
\end{frame}

\subsection{Mise à jour / fetch}
\subsection{Pousser / push}
\subsection{Tirer / pull}


\section{Les branches}

\subsection{Politique de travail }

\begin{frame}{Politique de travail, diapo 1/2 \footnote{\url{https://bioinfo-fr.net/git-usage-collaboratif}}}

\begin{center}
\includegraphics[width=320pt]{politique_branche.png}
\end{center}

\end{frame}


\begin{frame}{Politique de travail, diapo 2/2}

\begin{itemize}
  \item vous faites une branche pour ajouter une nouvelle fonctionnalité
  
  \item  en plein milieu on vous demande de corriger un bug en urgence
  
   \item     vous ne le faites pas dans votre nouvelle branche car le code n'est pas encore fonctionnel
   
        vous ne le faites pas non plus dans la branche principale car celle-ci ne doit pas être utilisée comme branche de développement
        
  \item          vous créez une seconde branche depuis la branche principale pour corriger le bug
  
   \item         vous fusionnez cette seconde branche avec la branche principale une fois la correction terminée
  
  \item          vous terminez votre ajout de fonctionnalité sur la première branche
    
    \item        vous fusionnez votre première branche avec la (nouvelle) branche principale en réglant les conflits éventuels
\end{itemize}

 

\end{frame}

\section{Mettre en commun/Merger}


\section{The End}


\begin{frame}
La suite au prochain épisode...
 
pour les curieux, le code de ce document est là:

\href{https://github.com/domduf/GitBeamer}{https://github.com/domduf/GitBeamer}

Et la \href{https://www.dropbox.com/sh/6bf9gw8q2mtqf4b/AAAy_lja36MJiDIjezwYSVIga?dl=0}{version pdf actualisée à cette adresse Dropbox}
\url{https://www.dropbox.com/sh/6bf9gw8q2mtqf4b/AAAy_lja36MJiDIjezwYSVIga?dl=0}

\end{frame}





\end{document}
